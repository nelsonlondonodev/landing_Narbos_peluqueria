var o=class{constructor(){this.init()}init(){this.DOM={filtersContainer:document.getElementById("gallery-filters"),items:document.querySelectorAll(".gallery-item"),filterButtons:document.querySelectorAll(".filter-btn")},!(!this.DOM.filtersContainer||this.DOM.items.length===0)&&(this.setupFilters(),this.setupLightbox())}setupFilters(){let t=document.querySelector('.filter-btn[data-filter="todos"]');t&&this.toggleActiveFilter(t),this.DOM.filtersContainer.addEventListener("click",e=>{let i=e.target.closest(".filter-btn");if(!i)return;let s=i.getAttribute("data-filter");this.toggleActiveFilter(i),this.applyFilter(s),this.reloadLightbox()})}toggleActiveFilter(t){this.DOM.filterButtons.forEach(e=>e.classList.remove("filter-btn-active")),t.classList.add("filter-btn-active")}applyFilter(t){this.DOM.items.forEach(e=>{let i=e.getAttribute("data-category"),s=t==="todos"||t===i;e.style.display=s?"":"none"})}setupLightbox(){typeof GLightbox>"u"||(this.lightbox=GLightbox({selector:".glightbox",touchNavigation:!0,loop:!0,autoplayVideos:!0}),this.setupAccessibilityEvents())}reloadLightbox(){this.lightbox&&this.lightbox.reload()}setupAccessibilityEvents(){if(!this.lightbox)return;let t=document.getElementById("app-wrapper");this.lightbox.on("open",()=>{document.activeElement instanceof HTMLElement&&document.activeElement.blur(),t&&requestAnimationFrame(()=>{t.setAttribute("inert",""),t.removeAttribute("aria-hidden")})}),this.lightbox.on("close",()=>{t&&t.removeAttribute("inert")})}};export{o as GalleryController};
