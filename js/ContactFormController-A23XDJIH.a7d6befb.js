var a=class{constructor(){this.DOM={form:document.getElementById("contact-form"),status:document.getElementById("form-status")},this.init()}init(){this.DOM.form&&this.DOM.form.addEventListener("submit",t=>this.handleSubmit(t))}async handleSubmit(t){t.preventDefault(),this.updateStatus("Enviando mensaje...","#6B755A");try{await this.sendFormData(t.target),this.handleSuccess()}catch(e){this.handleError(e)}this.clearStatusAfterDelay()}async sendFormData(t){let e=new FormData(t),s=await fetch(t.action,{method:t.method,body:e,headers:{Accept:"application/json"}});if(!s.ok)throw await s.json()}handleSuccess(){this.updateStatus("\xA1Mensaje enviado con \xE9xito!","green"),this.DOM.form.reset()}handleError(t){let e="Hubo un error al enviar el mensaje.";t&&t.errors&&Array.isArray(t.errors)&&(e=t.errors.map(s=>s.message).join(", ")),this.updateStatus(e,"red")}updateStatus(t,e){this.DOM.status&&(this.DOM.status.textContent=t,this.DOM.status.style.color=e)}clearStatusAfterDelay(){setTimeout(()=>{this.DOM.status&&(this.DOM.status.textContent="")},5e3)}};export{a as ContactFormController};
