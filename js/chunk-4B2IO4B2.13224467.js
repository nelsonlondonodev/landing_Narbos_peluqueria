import{a as l}from"./chunk-WKGVYJOO.62f6317b.js?v=1772271980123";var d=class{constructor(e={}){this.config={basePath:e.basePath||l,enableAnimation:e.enableAnimation!==!1,customConfig:e.customConfig||null},this.basePath=this.config.basePath,this.basePath&&!this.basePath.endsWith("/")?this.basePath+="/":this.basePath||(this.basePath=""),this.leaves=[],this.init()}init(){let e=window.matchMedia("(prefers-reduced-motion: reduce)").matches;this.injectDecorations(),this.config.enableAnimation&&!e&&this.startParallaxLoop()}injectDecorations(){this.getConfigs().forEach(t=>{try{let s=document.getElementById(t.parent);if(!s)return;let a=s.querySelectorAll(".floating-decoration-leaf"),i=!1;if(a.forEach(n=>{n.src.includes(t.img)&&(i=!0)}),i)return;this.setupParentSection(s);let r=this.createLeafElement(t);this.config.enableAnimation&&t.speed>0&&this.registerForParallax(r,t),s.prepend(r),this.adjustZIndices(s,r,t)}catch(s){console.warn(`FloatingDecorations: Failed to inject leaf for ${t.parent}`,s)}})}getConfigs(){if(this.config.customConfig)return this.config.customConfig;let e=window.location.pathname;if(e.includes("/blog"))return[];let t=e==="/"||e.endsWith("index.html")&&!e.includes("/servicios/"),s=e.includes("/peluqueria"),a=e.includes("/barberia"),i=e.includes("/estetica"),r=e.includes("/unas-spa"),n=s||a||i||r,o=[];if(t){o=[{parent:"inicio",img:"ui/decorations/hoja-seca-3d.webp",speed:.25,wrapperClasses:"-left-6 top-[10%] md:left-[-2%] z-10",imgClasses:"w-20 md:w-44 rotate-45 opacity-90 md:opacity-100 animate-leaf-enter-left"},{parent:"inicio",img:"ui/decorations/hoja-verde-3d.webp",speed:.35,wrapperClasses:"-right-6 top-[40%] md:right-[15%] md:top-[35%] z-10",imgClasses:"w-24 md:w-56 -rotate-12 opacity-90 md:opacity-100 animate-leaf-enter-right"},{parent:"servicios",img:"ui/decorations/hoja-seca-3d.webp",speed:.2,wrapperClasses:"-right-2 top-24 md:-right-20 md:top-12 z-20",imgClasses:"w-24 md:w-48 animate-leaf-enter-right"},{parent:"servicios",img:"ui/decorations/hoja-verde-3d.webp",speed:.3,wrapperClasses:"-left-4 top-1/2 md:-left-12 md:top-[40%] z-20",imgClasses:"w-28 md:w-40 animate-leaf-enter-left"}];let c=[{parent:"faq",img:"ui/decorations/hoja-seca-3d.webp",speed:.15,wrapperClasses:"-left-8 -top-10 md:left-2 md:top-2 z-20",imgClasses:"w-24 md:w-32 -rotate-45 md:rotate-10 animate-leaf-enter-left"}];return[...o,...c]}return n?o=[{parent:"inicio",img:"ui/decorations/hoja-seca-3d.webp",speed:0,wrapperClasses:"-right-4 top-12 md:-right-12 md:top-20 z-30",imgClasses:"w-24 md:w-56 rotate-[15deg] animate-leaf-enter-right"},{parent:"inicio",img:"ui/decorations/hoja-verde-3d.webp",speed:0,wrapperClasses:"-left-6 top-3/4 md:-left-16 md:bottom-20 z-30",imgClasses:"w-28 md:w-48 -rotate-[15deg] animate-leaf-enter-left"}]:o=[{parent:"inicio",img:"ui/decorations/hoja-seca-3d.webp",speed:0,wrapperClasses:"-right-4 top-12 md:-right-12 md:top-20 z-30",imgClasses:"w-24 md:w-40 rotate-[15deg] opacity-90"},{parent:"inicio",img:"ui/decorations/hoja-verde-3d.webp",speed:0,wrapperClasses:"-left-6 top-3/4 md:-left-8 md:top-[60%] z-30",imgClasses:"w-28 md:w-36 -rotate-[15deg] opacity-90"}],o}setupParentSection(e){window.getComputedStyle(e).position==="static"&&e.classList.add("relative")}createLeafElement(e){let t=document.createElement("div");t.className=`floating-decoration-wrapper absolute pointer-events-none will-change-transform ${e.wrapperClasses}`;let s=document.createElement("img");return s.src=`${this.basePath}images/${e.img}`,s.onerror=()=>{t.style.display="none"},s.alt="",s.setAttribute("width","200"),s.setAttribute("height","200"),s.className=`floating-decoration-leaf block drop-shadow-2xl transition-transform duration-700 ease-out ${e.imgClasses}`,t.appendChild(s),t._parallaxTarget=t,t}registerForParallax(e,t){e.setAttribute("data-speed",t.speed),this.leaves.push({element:e,speed:t.speed})}adjustZIndices(e,t,s){e.children.length>0&&Array.from(e.children).forEach(a=>{a!==t&&a.nodeType===1&&(window.getComputedStyle(a).position==="static"&&a.classList.add("relative"),s.wrapperClasses.includes("z-10")||a.classList.add("z-10"))})}startParallaxLoop(){let e=()=>{let t=window.scrollY;this.leaves.forEach(s=>{let a=t*s.speed;s.element.style.transform=`translateY(${a}px)`}),requestAnimationFrame(e)};requestAnimationFrame(e)}};export{d as a};
