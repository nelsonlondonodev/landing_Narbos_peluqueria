export class ModalController{constructor(){this.init()}init(){this.bindTriggers(),this.bindCloseButtons(),this.bindGlobalEvents()}bindTriggers(){document.querySelectorAll("[data-modal-target]").forEach(e=>{const t=e.dataset.modalTarget;e.addEventListener("click",()=>this.openModal(t)),e.addEventListener("keydown",e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.openModal(t))})})}bindCloseButtons(){document.querySelectorAll('[id$="-modal"]').forEach(e=>{const t=e.querySelector("[data-modal-close]");t&&t.addEventListener("click",()=>this.closeModal(e)),e.addEventListener("click",t=>{t.target===e&&this.closeModal(e)})})}bindGlobalEvents(){window.addEventListener("keydown",e=>{if("Escape"===e.key){const e=document.querySelector('[id$="-modal"]:not(.hidden)');e&&this.closeModal(e)}})}openModal(e){const t="string"==typeof e?document.getElementById(e):e;if(!t)return;t.classList.remove("hidden"),t.classList.add("modal-animation");const o=t.querySelector(".relative.bg-white")||t.querySelectorAll("div")[1];o&&(o.classList.remove("opacity-0","scale-95"),o.classList.add("modal-content-animation")),document.body.classList.add("modal-open-layer-fix")}closeModal(e){if(!e)return;e.classList.add("hidden"),e.classList.remove("modal-animation");const t=e.querySelector(".relative.bg-white")||e.querySelectorAll("div")[1];t&&(t.classList.remove("modal-content-animation"),t.classList.add("opacity-0","scale-95")),document.body.classList.remove("modal-open-layer-fix")}}