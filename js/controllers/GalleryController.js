export class GalleryController{constructor(){this.init()}init(){this.DOM={filtersContainer:document.getElementById("gallery-filters"),items:document.querySelectorAll(".gallery-item"),filterButtons:document.querySelectorAll(".filter-btn")},this.DOM.filtersContainer&&0!==this.DOM.items.length&&(this.setupFilters(),this.setupLightbox())}setupFilters(){const t=document.querySelector('.filter-btn[data-filter="todos"]');t&&this.toggleActiveFilter(t),this.DOM.filtersContainer.addEventListener("click",t=>{const e=t.target.closest(".filter-btn");if(!e)return;const i=e.getAttribute("data-filter");this.toggleActiveFilter(e),this.applyFilter(i),this.reloadLightbox()})}toggleActiveFilter(t){this.DOM.filterButtons.forEach(t=>t.classList.remove("filter-btn-active")),t.classList.add("filter-btn-active")}applyFilter(t){this.DOM.items.forEach(e=>{const i=e.getAttribute("data-category"),o="todos"===t||t===i;e.style.display=o?"":"none"})}setupLightbox(){"undefined"!=typeof GLightbox&&(this.lightbox=GLightbox({selector:".glightbox",touchNavigation:!0,loop:!0,autoplayVideos:!0}),this.setupAccessibilityEvents())}reloadLightbox(){this.lightbox&&this.lightbox.reload()}setupAccessibilityEvents(){if(!this.lightbox)return;const t=[document.querySelector("main"),document.querySelector("header"),document.querySelector("footer")];this.lightbox.on("open",()=>{t.forEach(t=>{t&&(t.setAttribute("inert",""),t.removeAttribute("aria-hidden"))})}),this.lightbox.on("close",()=>{t.forEach(t=>{t&&t.removeAttribute("inert")})})}}