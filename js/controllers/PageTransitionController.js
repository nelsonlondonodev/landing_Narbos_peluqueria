export class PageTransitionController{constructor(){this.links=document.querySelectorAll('a[href^="/"], a[href^="./"], a[href^="../"]'),this.init()}init(){this.handleEnterAnimation(),this.setupExitAnimations(),window.addEventListener("pageshow",t=>{t.persisted&&(document.body.classList.remove("page-is-exiting"),document.body.classList.add("page-is-loaded"))})}handleEnterAnimation(){requestAnimationFrame(()=>{document.body.classList.add("page-is-loaded")})}setupExitAnimations(){document.body.addEventListener("click",t=>{const e=t.target.closest("a");if(!e)return;if("_blank"===e.target)return;if(e.getAttribute("href").startsWith("#"))return;if(e.getAttribute("href").startsWith("mailto:"))return;if(e.getAttribute("href").startsWith("tel:"))return;if(t.ctrlKey||t.metaKey)return;const i=new URL(e.href,window.location.origin);i.origin===window.location.origin&&(t.preventDefault(),this.animateExit(i.href))})}animateExit(t){document.body.classList.add("page-is-exiting"),setTimeout(()=>{window.location.href=t},300)}}