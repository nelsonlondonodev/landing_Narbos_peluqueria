export class FAQAccordion{constructor(t="#faq"){this.container=document.querySelector(t),this.container&&this.init()}init(){this.container.addEventListener("click",t=>{const e=t.target.closest("summary");if(!e)return;t.preventDefault();const s=e.parentElement;this.toggle(s)})}toggle(t){const e=t.hasAttribute("open"),s=t.querySelector(".faq-content");s&&(e||this.closeOthers(t),e?this.close(t,s):this.open(t,s))}open(t,e){t.setAttribute("open","");const s=e.scrollHeight;e.style.height||(e.style.height="0px",e.style.opacity="0"),e.style.overflow="hidden",e.style.transition="height 300ms ease-out, opacity 300ms ease-out",e.offsetHeight,e.style.height=s+"px",e.style.opacity="1";const i=s=>{"height"===s.propertyName&&(t.hasAttribute("open")&&"0px"!==e.style.height&&(e.style.height="auto",e.style.opacity="",e.style.transition=""),e.removeEventListener("transitionend",i))};e.addEventListener("transitionend",i)}close(t,e){const s=e.offsetHeight;e.style.height=s+"px",e.style.overflow="hidden",e.style.transition="height 300ms ease-in, opacity 300ms ease-in",e.offsetHeight,e.style.height="0px",e.style.opacity="0";const i=s=>{"height"===s.propertyName&&("0px"===e.style.height&&(t.removeAttribute("open"),e.style.height="",e.style.opacity="",e.style.transition=""),e.removeEventListener("transitionend",i))};e.addEventListener("transitionend",i)}closeOthers(t){this.container.querySelectorAll("details").forEach(e=>{if(e!==t&&e.hasAttribute("open")){const t=e.querySelector(".faq-content");t&&"0px"!==t.style.height&&this.close(e,t)}})}}