export class ReviewsCarousel{constructor(){this.DOM={wrapper:document.getElementById("reviews-slider-wrapper"),slides:document.querySelectorAll(".review-slide"),prevBtn:document.getElementById("prev-review"),nextBtn:document.getElementById("next-review"),slider:document.getElementById("reviews-slider")},this.state={currentIndex:0,autoPlayInterval:null,autoPlayDelay:7e3},this.init()}init(){this.DOM.wrapper&&0!==this.DOM.slides.length&&(this.setupStyles(),this.bindEvents(),this.updateView(this.state.currentIndex),this.startAutoPlay())}setupStyles(){this.DOM.slider&&(this.DOM.slider.style.display="grid",this.DOM.slider.style.gridTemplateAreas='"stack"',this.DOM.slides.forEach(t=>{t.style.display="",t.style.gridArea="stack",t.style.transition="opacity 0.5s ease-in-out",t.style.width="100%"}))}bindEvents(){this.DOM.prevBtn&&this.DOM.prevBtn.addEventListener("click",t=>this.handleNavigation(t,"prev")),this.DOM.nextBtn&&this.DOM.nextBtn.addEventListener("click",t=>this.handleNavigation(t,"next"))}handleNavigation(t,e){t.preventDefault(),t.stopPropagation(),"prev"===e?this.prev():this.next(),this.stopAutoPlay()}updateView(t){this.DOM.slides.forEach((e,s)=>{const i=s===t;e.style.opacity=i?"1":"0",e.style.visibility=i?"visible":"hidden",e.style.zIndex=i?"1":"0"})}next(){this.state.currentIndex=(this.state.currentIndex+1)%this.DOM.slides.length,this.updateView(this.state.currentIndex)}prev(){this.state.currentIndex=(this.state.currentIndex-1+this.DOM.slides.length)%this.DOM.slides.length,this.updateView(this.state.currentIndex)}startAutoPlay(){this.stopAutoPlay(),this.state.autoPlayInterval=setInterval(()=>this.next(),this.state.autoPlayDelay)}stopAutoPlay(){this.state.autoPlayInterval&&(clearInterval(this.state.autoPlayInterval),this.state.autoPlayInterval=null)}}