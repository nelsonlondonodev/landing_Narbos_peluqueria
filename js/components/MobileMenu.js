export class MobileMenu{constructor(){this.DOM={menuBtn:document.getElementById("menu-btn"),mobileMenu:document.getElementById("mobile-menu"),backdrop:document.getElementById("menu-backdrop"),openIcon:document.getElementById("menu-open-icon"),closeIcon:document.getElementById("menu-close-icon"),internalCloseBtn:document.getElementById("internal-close-btn"),links:document.querySelectorAll("#mobile-menu a"),serviceToggles:document.querySelectorAll(".mobile-services-toggle")},this.isOpen=!1,this.init()}init(){this.DOM.menuBtn&&this.DOM.mobileMenu?(this.moveMenuToBody(),this.resetInitialState(),this.bindEvents()):console.warn("MobileMenu: Critical elements not found in DOM.")}moveMenuToBody(){this.DOM.mobileMenu.parentElement!==document.body&&document.body.appendChild(this.DOM.mobileMenu),this.DOM.backdrop&&this.DOM.backdrop.parentElement!==document.body&&document.body.appendChild(this.DOM.backdrop)}resetInitialState(){this.DOM.mobileMenu.classList.add("translate-x-full")}bindEvents(){this.DOM.menuBtn.onclick=e=>{e.stopPropagation(),this.toggle()},this.DOM.backdrop&&(this.DOM.backdrop.onclick=()=>this.close()),this.DOM.internalCloseBtn&&(this.DOM.internalCloseBtn.onclick=()=>this.close()),this.DOM.links.forEach(e=>{e.addEventListener("click",()=>this.close())}),this.DOM.serviceToggles.forEach(e=>{e.onclick=t=>{const n=e.nextElementSibling,s=e.querySelector("svg");n.classList.toggle("hidden"),s.classList.toggle("rotate-180")}}),window.addEventListener("resize",()=>this.handleResize())}handleResize(){window.innerWidth>=768&&this.isOpen&&this.close()}toggle(){this.isOpen?this.close():this.open()}open(){this.isOpen||(this.DOM.mobileMenu.classList.remove("translate-x-full"),document.body.classList.add("mobile-menu-open"),document.body.style.overflow="hidden",this.toggleElements(!0),this.isOpen=!0)}close(){this.isOpen&&(this.DOM.mobileMenu.classList.add("translate-x-full"),document.body.classList.remove("mobile-menu-open"),document.body.style.overflow="",this.toggleElements(!1),this.isOpen=!1)}toggleElements(e){this.DOM.backdrop&&this.DOM.backdrop.classList.toggle("hidden",!e),this.DOM.openIcon&&this.DOM.openIcon.classList.toggle("hidden",e),this.DOM.closeIcon&&this.DOM.closeIcon.classList.toggle("hidden",!e)}}