var r=class{constructor(){this.init()}init(){document.querySelectorAll(".share-button-container").forEach(e=>this.mountButton(e))}mountButton(t){let e={url:t.dataset.url||window.location.href,title:t.dataset.title||document.title,text:t.dataset.text||"\xA1Mira este art\xEDculo!"},a=this.createButtonElement(e.title);a.addEventListener("click",()=>this.handleShare(a,e)),t.innerHTML="",t.appendChild(a)}createButtonElement(t){let e=document.createElement("button");return e.className="group inline-flex items-center gap-2 px-6 py-3 bg-brand-green hover:bg-brand-gray-dark text-white rounded-full transition-all duration-300 shadow-md hover:shadow-lg font-bold text-sm cursor-pointer transform hover:-translate-y-1",e.title=`Compartir: ${t}`,e.innerHTML=`
            <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 transition-transform group-hover:scale-110" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z" />
            </svg>
            <span class="font-sans">Compartir art\xEDculo</span>
        `,e}async handleShare(t,e){if(navigator.share)try{await navigator.share(e)}catch(a){a.name!=="AbortError"&&(console.warn("Web Share API fall\xF3, usando clipboard...",a),await this.copyToClipboard(t,e.url))}else await this.copyToClipboard(t,e.url)}async copyToClipboard(t,e){let a=t.querySelector("span"),o=a.textContent;try{await navigator.clipboard.writeText(e),this.showFeedback(t,a,"\xA1Enlace copiado!"),setTimeout(()=>this.resetFeedback(t,a,o),2e3)}catch(n){console.error("Error al copiar:",n),alert("No pudimos copiar el enlace. Por favor hazlo manualmente.")}}showFeedback(t,e,a){e.textContent=a,t.classList.add("bg-brand-medium")}resetFeedback(t,e,a){e.textContent=a,t.classList.remove("bg-brand-medium")}};export{r as ShareButton};
