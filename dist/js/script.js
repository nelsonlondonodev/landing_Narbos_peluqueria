function initHeroAnimation(){const e=document.getElementById("hero-title"),t=document.getElementById("hero-subtitle");e&&t&&(setTimeout(()=>{e.classList.add("is-visible")},100),setTimeout(()=>{t.classList.add("is-visible")},400))}async function initI18n(){const e=document.getElementById("lang-toggle-desktop"),t=document.getElementById("lang-toggle-mobile");if(!e&&!t)return;let n={};const o=()=>{const e=window.location.pathname;return e.includes("/blog/articles/")?"../../":e.includes("/blog/")?"../":"./"},i=n=>{const i="es"===n?"en":"es",a="es"===i?"es":"gb",l=(o(),`\n      <img src="https://flagcdn.com/w20/${a}.png" srcset="https://flagcdn.com/w40/${a}.png 2x" alt="${i.toUpperCase()}" class="w-5 h-auto mr-2">\n      ${i.toUpperCase()}\n    `);e&&(e.innerHTML=l),t&&(t.innerHTML=l)},a=async e=>{const t=o();try{const o=await fetch(`${t}lang/${e}.json`);if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);n=await o.json(),(e=>{document.documentElement.lang=e,document.querySelectorAll("[data-key]").forEach(e=>{const t=e.getAttribute("data-key");n[t]&&(e.innerHTML=n[t])}),document.querySelectorAll("[data-key-alt]").forEach(e=>{const t=e.getAttribute("data-key-alt");n[t]&&e.setAttribute("alt",n[t])});const t=document.getElementById("meta-description");t&&n.metaDescription&&t.setAttribute("content",n.metaDescription),n.metaTitle&&(document.title=n.metaTitle),i(e)})(e)}catch(t){console.error("Could not load translation file:",t),"es"!==e&&await a("es")}},l=async()=>{const e="es"===(localStorage.getItem("language")||"es")?"en":"es";localStorage.setItem("language",e),await a(e)};e&&e.addEventListener("click",l),t&&t.addEventListener("click",l);const s=localStorage.getItem("language")||"es";await a(s)}function initMobileMenu(){const e=document.getElementById("menu-btn"),t=document.getElementById("mobile-menu");if(!e||!t)return;const n=document.getElementById("menu-backdrop"),o=document.getElementById("menu-open-icon"),i=document.getElementById("menu-close-icon"),a=t.querySelectorAll("a"),l=()=>{t.classList.toggle("translate-x-full"),n&&n.classList.toggle("hidden"),o&&o.classList.toggle("hidden"),i&&i.classList.toggle("hidden"),document.body.classList.toggle("mobile-menu-open")};e.addEventListener("click",l),n&&n.addEventListener("click",l),a.forEach(e=>{e.addEventListener("click",l)})}function initContactForm(){const e=document.getElementById("contact-form");if(!e)return;const t=document.getElementById("form-status");e.addEventListener("submit",async n=>{n.preventDefault();const o=localStorage.getItem("language")||"es",i=new FormData(n.target);t&&(t.textContent=translations[o].formStatusSubmitting),t&&(t.style.color="#6B755A");try{const a=await fetch(n.target.action,{method:n.target.method,body:i,headers:{Accept:"application/json"}});a.ok?(t&&(t.textContent=translations[o].formStatusSuccess),t&&(t.style.color="green"),e.reset()):a.json().then(e=>{Object.hasOwn(e,"errors")?t&&(t.textContent=e.errors.map(e=>e.message).join(", ")):t&&(t.textContent=translations[o].formStatusError),t&&(t.style.color="red")})}catch(e){t&&(t.textContent=translations[o].formStatusError),t&&(t.style.color="red")}setTimeout(()=>{t&&(t.textContent="")},5e3)})}function initScrollSpy(){const e=document.querySelectorAll("main section[id], footer[id]"),t=document.querySelectorAll("header nav .hidden a");if(0===e.length||0===t.length)return;window.addEventListener("scroll",()=>{const n=window.scrollY+150;e.forEach(e=>{if(n>=e.offsetTop&&n<e.offsetTop+e.offsetHeight){t.forEach(e=>{e.classList.remove("nav-link-active")});const n=document.querySelector(`header nav .hidden a[href*="${e.id}"]`);n&&n.classList.add("nav-link-active")}})})}function initThemeToggle(){const e=document.getElementById("theme-toggle"),t=document.getElementById("theme-toggle-dark-icon"),n=document.getElementById("theme-toggle-light-icon"),o=document.getElementById("theme-toggle-auto-icon"),i=document.getElementById("theme-toggle-mobile"),a=document.getElementById("theme-toggle-dark-icon-mobile"),l=document.getElementById("theme-toggle-light-icon-mobile"),s=document.getElementById("theme-toggle-auto-icon-mobile");if(!e&&!i)return;const r=()=>{const e=localStorage.getItem("theme")||"auto";[t,n,o,a,l,s].forEach(e=>{e&&e.classList.add("hidden")}),"dark"===e?(document.documentElement.classList.add("dark"),n&&n.classList.remove("hidden"),l&&l.classList.remove("hidden")):"light"===e?(document.documentElement.classList.remove("dark"),t&&t.classList.remove("hidden"),a&&a.classList.remove("hidden")):(window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),o&&o.classList.remove("hidden"),s&&s.classList.remove("hidden"))},d=()=>{const e=localStorage.getItem("theme")||"auto",t="light"===e?"dark":"dark"===e?"auto":"light";localStorage.setItem("theme",t),r()};window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",r),e&&e.addEventListener("click",d),i&&i.addEventListener("click",d),r()}function initReviewsSlider(){const e=document.getElementById("reviews-slider-wrapper");if(!e)return;const t=document.querySelectorAll(".review-slide"),n=document.getElementById("prev-review"),o=document.getElementById("next-review");if(0===t.length||!n||!o)return;let i,a=0;const l=()=>{let e=0;t.forEach(t=>{t.style.height="auto",t.offsetHeight>e&&(e=t.offsetHeight)}),t.forEach(t=>{t.style.minHeight=`${e}px`})},s=e=>{t.forEach((t,n)=>{t.style.display=n===e?"block":"none"})},r=()=>{a=(a+1)%t.length,s(a)},d=()=>{i=setInterval(r,7e3)},c=()=>{clearInterval(i)};n.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),a=(a-1+t.length)%t.length,s(a),c()}),o.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation(),r(),c()}),e.addEventListener("mouseenter",c),e.addEventListener("mouseleave",d),l(),window.addEventListener("resize",l),s(a),d()}function initGallery(){const e=document.getElementById("gallery-filters"),t=document.querySelectorAll(".gallery-item");if(!e||0===t.length)return;const n=document.querySelectorAll(".filter-btn"),o=document.querySelector('.filter-btn[data-filter="todos"]');o&&(n.forEach(e=>e.classList.remove("filter-btn-active")),o.classList.add("filter-btn-active")),e.addEventListener("click",e=>{const o=e.target.closest(".filter-btn");if(o){const e=o.getAttribute("data-filter");n.forEach(e=>e.classList.remove("filter-btn-active")),o.classList.add("filter-btn-active"),t.forEach(t=>{const n=t.getAttribute("data-category");t.style.display="todos"===e||e===n?"":"none"}),void 0!==i&&i&&i.reload()}});const i=GLightbox({selector:".glightbox"}),a=document.querySelector("main"),l=document.querySelector("header"),s=document.querySelector("footer");i.on("open",()=>{a&&(a.setAttribute("inert",""),a.removeAttribute("aria-hidden")),l&&(l.setAttribute("inert",""),l.removeAttribute("aria-hidden")),s&&(s.setAttribute("inert",""),s.removeAttribute("aria-hidden"))}),i.on("close",()=>{a&&a.removeAttribute("inert"),l&&l.removeAttribute("inert"),s&&s.removeAttribute("inert")})}function initModals(){const e=document.querySelectorAll("[data-modal-target]");if(0===e.length)return;const t=e=>{e&&(e.classList.add("hidden"),document.body.style.overflow="")};e.forEach(e=>{e.addEventListener("click",()=>{(e=>{e&&(e.classList.remove("hidden"),document.body.style.overflow="hidden")})(document.getElementById(e.dataset.modalTarget))})}),document.querySelectorAll('[id$="-modal"]').forEach(e=>{const n=e.querySelector("[data-modal-close]");n&&n.addEventListener("click",()=>t(e)),e.addEventListener("click",n=>{n.target===e&&t(e)})}),window.addEventListener("keydown",e=>{if("Escape"===e.key){const e=document.querySelector('[id$="-modal"]:not(.hidden)');t(e)}})}function initVideoPlayer(){const e=document.getElementById("video-container");if(!e)return;const t=document.getElementById("promo-video"),n=document.getElementById("video-play-button");t&&n&&(e.addEventListener("click",()=>{t.paused?t.play():t.pause()}),t.addEventListener("play",()=>{n.classList.add("hidden")}),t.addEventListener("pause",()=>{n.classList.remove("hidden")}),t.addEventListener("ended",()=>{n.classList.remove("hidden")}))}function initScrollAnimations(){const e=document.querySelectorAll("[data-animation]");if(0===e.length)return;const t=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target,o=n.getAttribute("data-animation"),i=n.getAttribute("data-animation-delay");n.classList.add("is-visible"),o&&n.classList.add("animate__animated",`animate__${o}`),i&&(n.style.animationDelay=i),t.unobserve(n)}})},{threshold:.1});e.forEach(e=>{e.classList.add("animation-hidden"),t.observe(e)})}function initHeaderScroll(){const e=document.querySelector("header");e&&window.addEventListener("scroll",()=>{window.scrollY>50?e.classList.add("header-scrolled"):e.classList.remove("header-scrolled")})}document.addEventListener("DOMContentLoaded",()=>{console.log("DOM fully loaded and parsed"),initI18n(),initThemeToggle(),initMobileMenu(),initHeaderScroll(),initHeroAnimation(),initContactForm(),initScrollSpy(),initReviewsSlider(),initGallery(),initModals(),initVideoPlayer(),initScrollAnimations()});